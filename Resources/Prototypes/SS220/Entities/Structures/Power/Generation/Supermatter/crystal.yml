# Â© SS220, An EULA/CLA with a hosting restriction, full text: https://raw.githubusercontent.com/SerbiaStrong-220/space-station-14/master/CLA.txt
- type: entity
  id: SuperMatterCrystal
  name: supermatter crystal
  description: A strangely translucent and iridescent crystal.
  placement:
    mode: SnapgridCenter
  components:
  - type: Physics
    bodyType: Static
  - type: Transform
    anchored: true
    noRot: true
  - type: Anchorable
  - type: Fixtures # TODO find masks/layers together
    fixtures:
      fix1:
        shape:
          !type:PhysShapeAabb
          bounds: "-0.3,-0.3,0.3,0.3" # TEST QoL
        mask:
          - Impassable
          - MidImpassable
          - HighImpassable
          - LowImpassable
          - InteractImpassable
          - Opaque
        layer:
          - MidImpassable
          - HighImpassable
          - BulletImpassable
          - InteractImpassable
  - type: CollisionWake
    enabled: false
  - type: SuperMatter # all things like radiation source etc will be added through SMSystem
  - type: HallucinationSource
    weightedRandom: HallucinationSupermatterCrystal
    range: 7
    rangeEnd: 9
    betweenHallucinations: 4
    hallucinationMinTime: 2
    hallucinationMaxTime: 10
    totalDuration: 20
    eyeProtectionDependent: true
  - type: RadiationSource
    enabled: true
    intensity: 2
    slope: 2
  - type: LightningArcShooter
    enabled: false
    ShootRange: 3
  - type: Sprite
    offset: 0, 0.25
    sprite: SS220/Structures/Power/Generation/Supermatter/crystal.rsi
    layers:
    - state: base
      map: ["enum.SuperMatterVisualLayers.Lights"]
    - state: field
      shader: unshaded
      visible: false
      map: ["enum.SuperMatterVisualLayers.UnShaded"]
  - type: Icon
    sprite: SS220/Structures/Power/Generation/Supermatter/crystal.rsi
    state: icon
  - type: Appearance
  - type: SuperMatterObserverVisualReceiver
    unActiveState: base
    onState: base
    warningState: glow
    dangerState: psy
    delaminateState: psy
  - type: PointLight
    enabled: true
    radius: 10
    energy: 5
    color: "#ffe000"
  - type: Speech
    speechSounds: Pai
  - type: IntrinsicRadioTransmitter
    channels:
    - Engineering
  - type: Clickable
  - type: InteractionOutline
  - type: InteractionPopup # add its own hugging!
    successChance: 1
    interactSuccessString: hugging-success-generic
    interactSuccessSound: /Audio/Effects/thudswoosh.ogg
    messagePerceivedByOthers: hugging-success-generic-others
  - type: WarpPoint
    follow: true
    location: SuperMatterCrystal
